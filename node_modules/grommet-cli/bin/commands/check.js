'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (vorpal) {
  vorpal.command('check', 'Runs Javascript/SASS linters and execute tests for your project').option('-j, --jslint', 'Whether to run only js lint.').option('-s, --scsslint', 'Whether to run only scss lint.').option('-t, --test', 'Whether to run only tests.').action(function (args, cb) {
    var timeId = process.hrtime();

    (0, _utils.runLinters)(args.options).then(function () {
      return (0, _utils.runTests)(args.options);
    }).then(function () {
      console.log(_utils.delimiter + ': ' + _chalk2.default.green('success'));

      var t = process.hrtime(timeId);
      console.log(_nodeEmoji2.default.get('sparkles') + ' ' + (0, _prettyHrtime2.default)(t));
      cb();
    }).catch(function (err) {
      (0, _utils.errorHandler)(err);
      process.exit(1);
    });
  });
};

var _chalk = require('chalk');

var _chalk2 = _interopRequireDefault(_chalk);

var _nodeEmoji = require('node-emoji');

var _nodeEmoji2 = _interopRequireDefault(_nodeEmoji);

var _prettyHrtime = require('pretty-hrtime');

var _prettyHrtime2 = _interopRequireDefault(_prettyHrtime);

var _utils = require('./utils');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

; /**
  * NPM dependencies
  **/