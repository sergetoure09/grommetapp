'use strict';

var _eslintParallel = require('eslint-parallel');

var _eslintParallel2 = _interopRequireDefault(_eslintParallel);

var _yargs = require('yargs');

var _yargs2 = _interopRequireDefault(_yargs);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
* NPM dependencies
**/
process.on('message', function (assets) {
  new _eslintParallel2.default(Object.assign({
    cache: true,
    cwd: process.cwd()
  }, (0, _yargs2.default)(process.argv.slice(2)).argv)).execute([assets]).then(function (result) {
    var failed = result.errorCount || result.warningCount;
    if (failed) {
      process.exit(1);
    } else {
      process.exit(0);
    }
  }, function (err) {
    console.log(err);
    process.exit(1);
  });
});